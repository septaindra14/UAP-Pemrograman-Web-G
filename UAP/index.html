<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Ujian Akhir Prak Web</title>
        </head>
        <body>
            <table border="1">
                <thead>
                    <tr>
                        <th>Kode</th>
                        <th>nama</th>
                        <th>Harga</th>
                    </tr>
                </thead>
                <tbody id="daftarBarang"></tbody>
            </table>

            <h1>Inputan User</h1>
            <table border="1">
                <thead>
                    <tr>
                        <td>Masukan Kode</td>
                        <td>:</td>
                        <td><input type="text" id="kode" /></td>
                    </tr>
                    <tr>
                        <td>Banyaknya Barang</td>
                        <td>:</td>
                        <td><input type="text" id="jumlah" /></td>
                    </tr>
                    <tr>
                        <td>
                         <button onclick="tambah()">Submit</button>
                        </td>
                    </tr>
                </thead>
            </table>

            <script>
                const barang = {
                    "001": { nama: "A", harga: 10000},
                    "002": { nama: "B", harga: 20000 },
                    "003": { nama: "C", harga: 30000 },
                };

            function tampilkanDaftarBarang() {
            const daftarBarangElement = document.getElementById("daftarBarang");

                for (const kode in barang) {
                const { nama, harga } = barang[kode];

                const row = document.createElement("tr");

                const kodeCol = document.createElement("td");
                kodeCol.textContent = kode;
                row.appendChild(kodeCol);

                const namaCol = document.createElement("td");
                namaCol.textContent = nama;
                row.appendChild(namaCol);

                const hargaCol = document.createElement("td");
                hargaCol.textContent = harga;
                row.appendChild(hargaCol);

                daftarBarangElement.appendChild(row);
                }
            }

            function Tambah() {
                var kodeBarang = document.getElementById("kode").value;
                var banyakBarang = document.getElementById("jumlah").value;

                if (barang.hasOwnProperty(kodeBarang)) {
                var hargaBarang = barang[kodeBarang].harga;

                var total = banyakBarang * hargaBarang;

                alert("total pembayarannya adalah" + total);

                var jumlah = prompt("Masukan uang user: ");

                var kembalian = jumlah - total;

                alert("kembalian" + kembalian);
                } else {
                alert("Kode Barang invalid");
                }
            }

            document.addEventListener("DOMContentLoaded", function () {
                tampilkanDaftarBarang();
            });
            </script>
        </body>
        </html>
